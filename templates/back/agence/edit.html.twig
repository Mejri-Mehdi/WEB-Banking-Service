{% extends 'back/base_agent.html.twig' %}

{% block title %}Modifier une agence{% endblock %}

{% block body %}
<style>
    .form-error ul { margin: 6px 0 0; padding-left: 0; list-style: none; }
    .form-error li { color: #dc3545; font-size: .95rem; }
    .is-invalid { border-color: #dc3545 !important; }
    .card { border: none; border-radius: 15px; }
    .form-control { border-radius: 12px; }
</style>

<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <h1 class="mb-1">
                        <i class="fas fa-edit me-2" style="color: var(--primary-color);"></i>
                        Modifier l'agence
                    </h1>
                    <p class="text-muted mb-0">{{ agence.nomAg }}</p>
                </div>
                <a href="{{ path('agent_agence_view', {id: agence.id}) }}" class="btn btn-outline-secondary">
                    <i class="fas fa-arrow-left me-2"></i>Retour
                </a>
            </div>

            <div class="card shadow-sm">
                <div class="card-body">
                    {{ form_start(form, { attr: { novalidate: 'novalidate' } }) }}

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group mb-4">
                                {{ form_label(form.nom_ag, null, { label_attr: { class: 'form-label fw-bold' } }) }}
                                {{ form_widget(form.nom_ag, {
                                    attr: {
                                        class: 'form-control ' ~ (form.nom_ag.vars.errors|length ? 'is-invalid' : '')
                                    }
                                }) }}
                                <div class="form-error">{{ form_errors(form.nom_ag) }}</div>
                            </div>

                            <div class="form-group mb-4">
                                {{ form_label(form.telephone, null, { label_attr: { class: 'form-label fw-bold' } }) }}
                                {{ form_widget(form.telephone, {
                                    attr: {
                                        class: 'form-control ' ~ (form.telephone.vars.errors|length ? 'is-invalid' : '')
                                    }
                                }) }}
                                <div class="form-error">{{ form_errors(form.telephone) }}</div>
                            </div>

                            <div class="form-group mb-4">
                                {{ form_label(form.email, null, { label_attr: { class: 'form-label fw-bold' } }) }}
                                {{ form_widget(form.email, {
                                    attr: {
                                        class: 'form-control ' ~ (form.email.vars.errors|length ? 'is-invalid' : '')
                                    }
                                }) }}
                                <div class="form-error">{{ form_errors(form.email) }}</div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group mb-4">
                                {{ form_label(form.adresse_ag, null, { label_attr: { class: 'form-label fw-bold' } }) }}
                                {{ form_widget(form.adresse_ag, {
                                    attr: {
                                        class: 'form-control ' ~ (form.adresse_ag.vars.errors|length ? 'is-invalid' : '')
                                    }
                                }) }}
                                <div class="form-error">{{ form_errors(form.adresse_ag) }}</div>
                            </div>

                            <div class="form-group mb-4">
                                {{ form_label(form.horaires, null, { label_attr: { class: 'form-label fw-bold' } }) }}
                                {{ form_widget(form.horaires, {
                                    attr: {
                                        class: 'form-control ' ~ (form.horaires.vars.errors|length ? 'is-invalid' : '')
                                    }
                                }) }}
                                <div class="form-error">{{ form_errors(form.horaires) }}</div>
                            </div>
                        </div>
                    </div>

                    <hr class="my-4">

                    <div class="d-flex justify-content-between">
                        <a href="{{ path('agent_agence_view', {id: agence.id}) }}" class="btn btn-outline-secondary px-5">
                            <i class="fas fa-times me-2"></i>Annuler
                        </a>
                        <button type="submit" class="btn btn-success px-5">
                            <i class="fas fa-save me-2"></i>Enregistrer
                        </button>
                    </div>

                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}